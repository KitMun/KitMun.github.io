<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CityFM Code Test</title>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    
  </head>
  <body>
    <main>
        <h1>Welcome to My Website</h1>  
        <p>fix columns data</p>

        <table id="example" class="display" style="width:100%">
          <thead>
              <tr>
                  <th>No</th>
                  <th>Name</th>
                  <th>Description</th>
                  <th>Price</th>
              </tr>
          </thead>
      </table>
    </main>

    <script> 
      console.log('js started');

      var table = $('#example').DataTable({
          pagingType: "full_numbers",
          columns: [
            { "data": "Price" },
            { "data": "Product" },
            { "data": "Desc" },
            { "data": "Price" },
          ],
          // "ajax": {
          //     "url": "",
          //     "type": "POST",
          //     // "data": filters,
          //     "datatype": "json"
          // }
      });

      var json = '[{"Product":"Product A","Desc":"Desc A","Price": 10},{"Product":"Product B","Desc":"Desc B","Price": 12},{"Product":"Product C","Desc":"Desc C","Price": 20}]';
      
      function get_product()
      {
        $.ajax({
          url: 'url',
          method: 'GET',
          success: function(response) {
              const parsedData = JSON.parse(response);
              show_data(parsedData);
              // Process the parsed data here
          },
          error: function(xhr, status, error) {
              show_data({});
          }
        });
      }
  
      function show_data(data)
      {
        console.log(data);
        table.clear();
        table.rows.add(data);
        table.draw();
      }

      $( document ).ready(function() {
        show_data(JSON.parse(json));
      });


      </script>
  </body>
</html>